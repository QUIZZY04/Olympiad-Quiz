<!DOCTYPE html>
<html>
<head>
    <title>Dashboard</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <nav class="top-nav">
        <div class="nav-logo">ğŸ“ Olympiad Portal</div>
        <div class="nav-links">
            <a href="index.html">Home</a>
            <a href="dashboard.html">Dashboard</a>
            <a href="leaderboard.html">Leaderboard</a>
            <a href="#" onclick="logout()">Logout</a>
        </div>
    </nav>

    <div style="max-width: 1100px; margin: 50px auto; padding: 20px; text-align: center;">
        <h1>Welcome ğŸ‘‹</h1>
        <select id="classSelect" style="padding:12px; border-radius:8px; background:var(--bg-card); color:white; border:1px solid var(--border); margin-bottom:40px;">
            <option value="class4">Class 4</option>
            <option value="class5">Class 5</option>
            <option value="class6">Class 6</option>
            <option value="class7">Class 7</option>
            <option value="class8">Class 8</option>
            <option value="class9">Class 9</option>
            <option value="class10">Class 10</option>
        </select>

        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 25px;">
            <div onclick="startQuiz('maths')" style="background:var(--bg-card); padding:40px; border-radius:15px; border:1px solid var(--border); cursor:pointer;">
                <h3 style="color:var(--primary);">ğŸ“ Mathematics</h3>
            </div>
            <div onclick="startQuiz('science')" style="background:var(--bg-card); padding:40px; border-radius:15px; border:1px solid var(--border); cursor:pointer;">
                <h3 style="color:#22c55e;">ğŸ”¬ Science</h3>
            </div>
            <div onclick="startQuiz('english')" style="background:var(--bg-card); padding:40px; border-radius:15px; border:1px solid var(--border); cursor:pointer;">
                <h3 style="color:var(--secondary);">ğŸ“˜ English</h3>
            </div>
        </div>
    </div>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
import { getAuth, onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";

const firebaseConfig = {
  apiKey: "AIzaSyB49W61ggHHJcAJ5WyYTmX13I8NofsggSY",
  authDomain: "olympiad-portal-d2a5e.firebaseapp.com",
  projectId: "olympiad-portal-d2a5e",
  storageBucket: "olympiad-portal-d2a5e.firebasestorage.app",
  messagingSenderId: "341855557503",
  appId: "1:341855557503:web:5cb0c3a9ee424a6db0ec4a"
};

const app = initializeApp(firebaseConfig);
const auth = getAuth(app);

onAuthStateChanged(auth, (user)=>{ if(!user) window.location.replace("login.html"); });

window.logout = async function(){
    await signOut(auth);
    localStorage.clear();
    sessionStorage.clear();
    window.location.replace("login.html");
};
</script>

<script>
function startQuiz(subject) {
    localStorage.setItem("selectedClass", document.getElementById("classSelect").value);
    localStorage.setItem("selectedSubject", subject);
    window.location.href = "quiz.html";
}
</script>
</body>
</html>
